#include <iostream>
#include <map>
#include <vector>

using namespace std;

int main(void)
{
  map<string, char> M;  

  M[".-"]        = 'A';
  M[".---"]      = 'J';
  M["..."]       = 'S';
  M[".----"]     = '1';
  M[".-.-.-"]    = '.';
  M["---..."]    = ':';

  M["-..."]      = 'B';
  M["-.-"]       = 'K';
  M["-"]         = 'T';
  M["..---"]     = '2';
  M["--..--"]    = ',';
  M["-.-.-."]    = ';';

  M["-.-."]      = 'C';
  M[".-.."]      = 'L';
  M["..-"]       = 'U';
  M["...--"]      = '3';
  M["..--.."]    = '?';
  M["-...-"]     = '=';

  M["-.."]       = 'D';
  M["--"]        = 'M';
  M["...-"]      = 'V'; 	
  M["....-"]     = '4'; 	
  M[".----."]    = '\''; 		
  M[".-.-."]     = '+';

  M["."]         = 'E'; 	
  M["-."]        = 'N'; 	
  M[".--"]       = 'W'; 	
  M["....."]     = '5';
  M["-.-.--"]    = '!'; 	
  M["-....-"]    = '-';

  M["..-."]      = 'F'; 	
  M["---"]       = 'O'; 	
  M["-..-"]      = 'X'; 	
  M["-...."]     = '6'; 	
  M["-..-."]     = '/'; 	
  M["..--.-"]    = '_';

  M["--."]      = 'G'; 	
  M[".--."]     = 'P'; 	
  M["-.--"]     = 'Y'; 	
  M["--..."]    = '7'; 	
  M["-.--."]    = '('; 	
  M[".-..-."]    = '\"';

  M["...."]      = 'H'; 	
  M["--.-"]      = 'Q'; 	
  M["--.."]      = 'Z'; 	
  M["---.."]     = '8'; 	
  M["-.--.-"]    = ')'; 	
  M[".--.-."]    = '@';

  M[".."]        = 'I'; 	
  M[".-."]       = 'R'; 	
  M["-----"]     = '0'; 		
  M["----."]     = '9'; 		
  M[".-..."]     = '&'; 	

  int tc, cnt = 0;
  char space = ' ';
  cin >> tc;
  cin.ignore();
  while(tc--){
    string s, t;
    getline(cin, s);
    cout << "Message #" << ++cnt << endl;
    for(int i=0; i<s.size(); ++i){
      if(s[i] == ' '){
	cout << M[t] ;
	t = "";
	if(i + 1 < s.size() && s[i + 1] == ' '){
	  cout << space;
	  ++i;
	}
      }
      else t += s[i];
    }
    if(M.find(t) != M.end())cout << M[t];
    cout << endl;
    if(tc)cout << endl;
  }
  return 0;
}
